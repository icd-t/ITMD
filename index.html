<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITMD Editor</title>

    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <link rel="icon" href="markdown.png">

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        window.mermaid = mermaid;
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
    <div class="top">
        <h1><i class="fa-brands fa-markdown"></i> ITMD Editor</h1>
        Markdown note taker with HTML support and more. See <em>Functions</em> for a list of supported features.
    </div>

    <div class="toolbar">
        <textarea id="name" name="NameBox" class="name" rows="1" cols="70" placeholder="Document Name..."></textarea>
        <button id="export" type="button">Export <i class="fa-brands fa-markdown"></i></button>
        <button id="import" type="button">Import <i class="fa-brands fa-markdown"></i> <i class="fa-regular fa-file-lines"></i></button>
        <input type="file" id="fileInput" accept=".md" style="display: none;">
        <button id="info" type="button" onclick="showInfo()">Functions</button>
        <a href="https://github.com/icd-t/ITMD-Markdown-Editor" target="_blank" class="buttonLink"><button>GitHub</button></a>
    </div>

    <dialog id="infoModal">
        <div class="wrapper">

            <h1>Function Documentation</h1>
            <br>
            <blockquote style="padding: 10px;">Don't forget to leave a star over at the <a href="https://github.com/icd-t/ITMD-Markdown-Editor" target="_blank">GitHub Repo</a>!</blockquote>
            ITMD Editor was built using the Github flavor of the markdown rich text formatting. Along with this, I have added some extra features such as KaTeX math equations and Mermaid Charts. Below is a list of functions for everything you can do in this editor.
            
            <h2>Standard Markdown</h2>
            <table>
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Syntax</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Heading 1</td>
                        <td># H1</td>
                    </tr>
                    <tr>
                        <td>Heading 2</td>
                        <td>## H2</td>
                    </tr>
                    <tr>
                        <td>Heading 3</td>
                        <td>### H3</td>
                    </tr>
                    <tr>
                        <td>Italics</td>
                        <td>*Italics* or _Italics_</td>
                    </tr>
                    <tr>
                        <td>Bold</td>
                        <td>**Bold** or __Bold__</td>
                    </tr>
                    <tr>
                        <td>Bold and Italics</td>
                        <td>***Bold and Italics***</td>
                    </tr>
                    <tr>
                        <td>Strike Through</td>
                        <td>~~Strike~~</td>
                    </tr>
                    <tr>
                        <td>List</td>
                        <td>- List Item<br>- List Item</td>
                    </tr>
                    <tr>
                        <td>Nested List Item</td>
                        <td>- List Item <br>&nbsp;&nbsp;- List Item</td>
                    </tr>
                    <tr>
                        <td>Numbered List</td>
                        <td>1. List Item<br>2. List Item</td>
                    </tr>
                    <tr>
                        <td>Text Divider</td>
                        <td>---</td>
                    </tr>
                    <tr>
                        <td>Line Break</td>
                        <td>&lt;br&gt;</td>
                    </tr>
                </tbody>
            </table>

            <h2>Advanced Markdown</h2>

            <table>
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Syntax</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Inline Code</td>
                        <td>`Code`</td>
                    </tr>
                    <tr>
                        <td>Quote Block</td>
                        <td>> Quote</td>
                    </tr>
                    <tr>
                        <td>Un-Checked Box</td>
                        <td>- [ ] Unchecked</td>
                    </tr>
                    <tr>
                        <td>Checked Box</td>
                        <td>- [x] Checked</td>
                    </tr>
                    <tr>
                        <td>Sub Script</td>
                        <td>&lt;sub&gt; Sub Script &lt;/sub&gt;</td>
                    </tr>
                    <tr>
                        <td>Super Script</td>
                        <td>&lt;sup&gt; Super Script &lt;/sup&gt;</td>
                    </tr>
                    <tr>
                        <td>Hyperlink</td>
                        <td>[link text](hyperlink)</td>
                    </tr>
                    <tr>
                        <td>Image</td>
                        <td>![alt text](image link)</td>
                    </tr>
                    <tr>
                        <td>Footnote (Used with next item)</td>
                        <td>Text[^1]</td>
                    </tr>
                    <tr>
                        <td>Footnote Link</td>
                        <td>[^1]: hyperlink</td>
                    </tr>
                    <tr>
                        <td>Comment</td>
                        <td>&lt;!-- Comment --&gt;</td>
                    </tr>

                    <tr>
                        <td>Collapsed Section</td>
                        <td>&lt;details&gt; &lt;summary&gt; Title &lt;/summary&gt; Content &lt;/details&gt;</td>
                    </tr>
                    <tr>
                        <td>Table</td>
                        <td>| Colomn 1 Header | Colomn 2 Header | <br> | - | - | <br> | Item 1 | Item 2 |</td>
                    </tr>
                </tbody>
            </table>

            <h2>Escape Characters</h2>

            Some characters will be handled differently when rendered. If you want to use a character that will not appear in the renderer, use an escape character.
            <br><br>

            <table>
                <thead>
                    <tr>
                        <th>Character</th>
                        <th>Code</th>
                        <th>Alternative Code</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&lt;</td>
                        <td>&amp;lt;</td>
                        <td>&amp;#60;</td>
                    </tr>
                    <tr>
                        <td>&gt;</td>
                        <td>&amp;gt;</td>
                        <td>&amp;#62;</td>
                    </tr>
                    <tr>
                        <td>Tab</td>
                        <td>&amp;Tab;</td>
                        <td>&amp;#32;</td>
                    </tr>
                    <tr>
                        <td>Space</td>
                        <td>&amp;nbsp;</td>
                        <td>&amp;#34;</td>
                    </tr>
                </tbody>
            </table>

            <br><br>
            Not all HTML escape characters are listed above. If you require another character, please see the full table <a href="https://mateam.net/html-escape-characters/">here</a>.


            <h2>Special Functions</h2>

            These functions will not work in any other text editor. I belive KaTeX has a strong chance of working, however the rest will not. If you plan on migrating your documents to a new editor, you can check the migration code in the table. Reminder, these features and migration codes will not allways work on other editors.
            <br><br>

            <table>
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Syntax</th>
                        <th>Migration Code</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Tag</td>
                        <td>##Tag##</td>
                        <td>#Tag</td>
                    </tr>
                    <tr>
                        <td>KaTeX Block Equation</td>
                        <td>&#36; &#36; code &#36;&#36;</td>
                        <td>&#36; &#36; code &#36;&#36;</td>
                    </tr>
                    <tr>
                        <td>KaTeX Inline Equation</td>
                        <td>&#36;code&#36;</td>
                        <td>&#36;code&#36;</td>
                    </tr>
                    <tr>
                        <td>Mermaid Chart</td>
                        <td>%%%<br>code<br>%%%</td>
                        <td>``` mermaid<br>code<br>```</td>
                    </tr>
                    <tr>
                        <td>Icon</td>
                        <td>::fa-catagory fa-icon::</td>
                        <td>FA HTML Code</td>
                    </tr>
                </tbody>
            </table>
            <br>
            The icons are derived from the Font Awesome set. To use them make sure they are on a new line, and input the icon code into the colons. Additionally, you can also directly use the html code without the colons. All documentation and guides for additional functions can be found here:
            <br><br>
            <a href="https://katex.org/docs/supported.html">KaTeX</a> <a href="https://mermaid.js.org/syntax/flowchart.html">Mermaid</a> <a href="https://fontawesome.com/icons">Font Awesome</a>
            <h2>HTML Support</h2>

            In addition to all of the features above, you can code directly in HTML. Although, some styles may be overided such as text color. If you wanted to know how to use one of the special elements above, use its default syntax in the editor, and then inspect element it in your browser.

            <h2>Embeds</h2>

            Becuase this editor supports HTML, you can add <em><strong>some</strong></em> iframe embeds to your file. Simply copy and paste the embed HTML code into your file, and it should automatically update. To do this you just need to use this syntax: <code>&ltiframe src="embed link"&gt;&lt;/iframe&gt;</code>. Example:
            <br><br>

            <table>
                <thead>
                    <tr>
                        <th>Syntax</th>
                        <th>Output</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=JAaXyox4kMjvtVzc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen&gt;&lt;/iframe&gt;</td>
                        <td><iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=JAaXyox4kMjvtVzc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></td>
                    </tr>
                    <tr>
                        <td>&lt;iframe src="https://archive.org/embed/DukeNukem" width="560" height="384" frameborder="0" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen&gt;&lt;/iframe/&gt;td>
                        <td><iframe src="https://archive.org/embed/DukeNukem" width="560" height="384" frameborder="0" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen></iframe></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </dialog>

    <div class="main">
        <textarea id="editor" name="editor" class="editor" cols="70" onkeyup="countWords()" onpaste="countWords()" placeholder="Start Typing..."></textarea>
        <div id="render" class="render">Edit or import file to render...</div>
    </div>

    <div class="info">Word count: <div id="wordCounter" style="display: inline-block;">0</div></div>
    <div class="info">Character count: <div id="charCounter" style="display: inline-block;">0</div></div>

    <button onclick="topFunction()" id="topButton" title="Go to top"><i class="fa-solid fa-chevron-up"></i></button>

    <script src="script.js"></script>
</body>
</html>